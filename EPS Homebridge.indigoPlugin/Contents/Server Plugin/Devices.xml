<?xml version="1.0"?>
<!-- EPS (ColoradoFourWheeler) Plugin -->
<Devices>
	<!-- =========== SWITCH =========== -->
	<Device type="relay" id="Homebridge-Relay">
		<Name>Homebridge Switch Wrapper</Name>
		<ConfigUI>
			
			<!-- *********** ON *********** -->
			<Field type="menu" id="methodOn" defaultValue="device" >
				<Label>On method:</Label>
				<List>
					<Option value="device">Single Device</Option>
					<Option value="action">Action Group</Option>
				</List>
			</Field>
			
			<Field id="deviceOn" type="menu" visibleBindingId="methodOn" visibleBindingValue="device">
				<Label>Device:</Label>
				<List class="indigo.devices" />
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field type="menu" id="deviceActionOn" defaultValue="turnOn" visibleBindingId="methodOn" visibleBindingValue="device">
				<Label>Action:</Label>
				<List class="self" filter="#deviceactions#[index=deviceActionOn, srcfield=deviceOn, allowui=true]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<!-- ** ACTION FIELD 1 ** -->
			<Field type="menu" id="optionGroupOn1" defaultValue="hidden" hidden="true">
				<Label>GROUP 1 DISPLAY</Label>
				<List>
					<Option value="hidden">Hidden</Option>
					<Option value="textfield">Text Field</Option>
					<Option value="menu">Menu</Option>
					<Option value="list">List</Option>
					<Option value="checkbox">Checkbox</Option>
				</List>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field id="optionLabelOn1" type="textfield" defaultValue="" readonly="true" visibleBindingId="optionGroupOn1" visibleBindingValue="textfield,menu,list">
				<Label>Field:</Label>
			</Field>
			
			<Field id="checkValueOn1" type="checkbox" visibleBindingId="optionGroupOn1" visibleBindingValue="checkbox">
				<Label> </Label>
				<Description>Enable</Description>
			</Field>
			
			<Field id="strValueOn1" type="textfield" visibleBindingId="optionGroupOn1" visibleBindingValue="textfield">
				<Label>Value:</Label>
			</Field>
			
			<Field type="menu" id="menuValueOn1" defaultValue="on" visibleBindingId="optionGroupOn1" visibleBindingValue="menu">
				<Label>Value:</Label>
				<List class="self" filter="#actionoptionlist#[index=menuValueOn1, group=1, method=Pass]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field type="list" id="listValueOn1" defaultValue="on" visibleBindingId="optionGroupOn1" visibleBindingValue="list">
				<Label>Value:</Label>
				<List class="self" filter="#actionoptionlist#[index=listValueOn1, group=1, method=Pass]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<!-- ** ACTION FIELD 2 ** -->
			<Field type="menu" id="optionGroupOn2" defaultValue="hidden" hidden="true">
				<Label>GROUP 2 DISPLAY</Label>
				<List>
					<Option value="hidden">Hidden</Option>
					<Option value="textfield">Text Field</Option>
					<Option value="menu">Menu</Option>
					<Option value="list">List</Option>
					<Option value="checkbox">Checkbox</Option>
				</List>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field id="optionLabelOn2" type="textfield" defaultValue="" readonly="true" visibleBindingId="optionGroupOn2" visibleBindingValue="textfield,menu,list">
				<Label>Field:</Label>
			</Field>
			
			<Field id="checkValueOn2" type="checkbox" visibleBindingId="optionGroupOn2" visibleBindingValue="checkbox">
				<Label> </Label>
				<Description>Enable</Description>
			</Field>
			
			<Field id="strValueOn2" type="textfield" visibleBindingId="optionGroupOn2" visibleBindingValue="textfield">
				<Label>Value:</Label>
			</Field>
			
			<Field type="menu" id="menuValueOn2" defaultValue="on" visibleBindingId="optionGroupOn2" visibleBindingValue="menu">
				<Label>Value:</Label>
				<List class="self" filter="#actionoptionlist#[index=menuValueOn2, group=2, method=Pass]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field type="list" id="listValueOn2" defaultValue="on" visibleBindingId="optionGroupOn2" visibleBindingValue="list">
				<Label>Value:</Label>
				<List class="self" filter="#actionoptionlist#[index=listValueOn2, group=2, method=Pass]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>	
			
			<!-- ** ACTION FIELD 3 ** -->
			<Field type="menu" id="optionGroupOn3" defaultValue="hidden" hidden="true">
				<Label>GROUP 3 DISPLAY</Label>
				<List>
					<Option value="hidden">Hidden</Option>
					<Option value="textfield">Text Field</Option>
					<Option value="menu">Menu</Option>
					<Option value="list">List</Option>
					<Option value="checkbox">Checkbox</Option>
				</List>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field id="optionLabelOn3" type="textfield" defaultValue="" readonly="true" visibleBindingId="optionGroupOn3" visibleBindingValue="textfield,menu,list">
				<Label>Field:</Label>
			</Field>
			
			<Field id="checkValueOn3" type="checkbox" visibleBindingId="optionGroupOn3" visibleBindingValue="checkbox">
				<Label> </Label>
				<Description>Enable</Description>
			</Field>
			
			<Field id="strValueOn3" type="textfield" visibleBindingId="optionGroupOn3" visibleBindingValue="textfield">
				<Label>Value:</Label>
			</Field>
			
			<Field type="menu" id="menuValueOn3" defaultValue="on" visibleBindingId="optionGroupOn3" visibleBindingValue="menu">
				<Label>Value:</Label>
				<List class="self" filter="#actionoptionlist#[index=menuValueOn3, group=3, method=Pass]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field type="list" id="listValueOn3" defaultValue="on" visibleBindingId="optionGroupOn3" visibleBindingValue="list">
				<Label>Value:</Label>
				<List class="self" filter="#actionoptionlist#[index=listValueOn3, group=3, method=Pass]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>					
			
			<!-- ** END ACTION FIELDS ** -->
			
			<Field type="checkbox" id="deviceOnShowStates" defaultValue="false" hidden="true">
				<Label> </Label>
				<Description>Determines if the user should provide a state and value to indicate status</Description>
			</Field>
			
			<Field type="menu" id="deviceOnState" defaultValue="" visibleBindingId="deviceOnShowStates" visibleBindingValue="true">
				<Label>State indicating On:</Label>
				<List class="self" filter="#devicestates#[index=deviceOnState, srcfield=deviceOn, allowui=True]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field type="textfield" id="deviceOnStateValue" defaultValue="" visibleBindingId="deviceOnShowStates" visibleBindingValue="true">
				<Label>State value indicating On:</Label>
			</Field>
			
			<Field id="deviceListOn" type="list" rows="8" visibleBindingId="methodOn" visibleBindingValue="list">
				<Label>Devices:</Label>
				<List class="indigo.devices" />
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field id="actionOn" type="menu" visibleBindingId="methodOn" visibleBindingValue="action">
				<Label>Action group:</Label>
				<List class="indigo.actionGroups" />
			</Field>
			
			<Field id="sep_on" type="separator" />
			
			<!-- *********** OFF *********** -->
			
			<Field type="menu" id="methodOffMaster" defaultValue="passthrough" >
				<Label>Off method:</Label>
				<List>
					<Option value="passthrough">Pass Through</Option>
					<Option value="on">Use On Method</Option>
					<Option value="same">Same As On Method</Option>
					<Option value="device">Single Device</Option>
					<Option value="action">Action Group</Option>
				</List>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field type="menu" id="methodOff" defaultValue="hidden" hidden="true">
				<Label>Changed depending on methodOffMaster</Label>
				<List>
					<Option value="hidden">Hidden</Option>
					<Option value="device">Single Device</Option>
					<Option value="action">Action Group</Option>
				</List>
			</Field>
			
			<Field id="deviceOff" type="menu" visibleBindingId="methodOff" visibleBindingValue="device">
				<Label>Device:</Label>
				<List class="indigo.devices" />
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field type="menu" id="deviceActionOff" defaultValue="turnOn" visibleBindingId="methodOff" visibleBindingValue="device">
				<Label>Action:</Label>
				<List class="self" filter="#deviceactions#[index=deviceActionOff, srcfield=deviceOff, allowui=true]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<!-- ** ACTION FIELD 1 ** -->
			<Field type="menu" id="optionGroupOff1" defaultValue="hidden" hidden="true">
				<Label>GROUP 1 DISPLAY</Label>
				<List>
					<Option value="hidden">Hidden</Option>
					<Option value="textfield">Text Field</Option>
					<Option value="menu">Menu</Option>
					<Option value="list">List</Option>
					<Option value="checkbox">Checkbox</Option>
				</List>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field id="optionLabelOff1" type="textfield" defaultValue="" readonly="true" visibleBindingId="optionGroupOff1" visibleBindingValue="textfield,menu,list">
				<Label>Field:</Label>
			</Field>
			
			<Field id="checkValueOff1" type="checkbox" visibleBindingId="optionGroupOff1" visibleBindingValue="checkbox">
				<Label> </Label>
				<Description>Enable</Description>
			</Field>
			
			<Field id="strValueOff1" type="textfield" visibleBindingId="optionGroupOff1" visibleBindingValue="textfield">
				<Label>Value:</Label>
			</Field>
			
			<Field type="menu" id="menuValueOff1" defaultValue="on" visibleBindingId="optionGroupOff1" visibleBindingValue="menu">
				<Label>Value:</Label>
				<List class="self" filter="#actionoptionlist#[index=menuValueOff1, group=1, method=Pass]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field type="list" id="listValueOff1" defaultValue="on" visibleBindingId="optionGroupOff1" visibleBindingValue="list">
				<Label>Value:</Label>
				<List class="self" filter="#actionoptionlist#[index=listValueOff1, group=1, method=Pass]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<!-- ** ACTION FIELD 2 ** -->
			<Field type="menu" id="optionGroupOff2" defaultValue="hidden" hidden="true">
				<Label>GROUP 2 DISPLAY</Label>
				<List>
					<Option value="hidden">Hidden</Option>
					<Option value="textfield">Text Field</Option>
					<Option value="menu">Menu</Option>
					<Option value="list">List</Option>
					<Option value="checkbox">Checkbox</Option>
				</List>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field id="optionLabelOff2" type="textfield" defaultValue="" readonly="true" visibleBindingId="optionGroupOff2" visibleBindingValue="textfield,menu,list">
				<Label>Field:</Label>
			</Field>
			
			<Field id="checkValueOff2" type="checkbox" visibleBindingId="optionGroupOff2" visibleBindingValue="checkbox">
				<Label> </Label>
				<Description>Enable</Description>
			</Field>
			
			<Field id="strValueOff2" type="textfield" visibleBindingId="optionGroupOff2" visibleBindingValue="textfield">
				<Label>Value:</Label>
			</Field>
			
			<Field type="menu" id="menuValueOff2" defaultValue="on" visibleBindingId="optionGroupOff2" visibleBindingValue="menu">
				<Label>Value:</Label>
				<List class="self" filter="#actionoptionlist#[index=menuValueOff2, group=2, method=Pass]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field type="list" id="listValueOff2" defaultValue="on" visibleBindingId="optionGroupOff2" visibleBindingValue="list">
				<Label>Value:</Label>
				<List class="self" filter="#actionoptionlist#[index=listValueOff2, group=2, method=Pass]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>	
			
			<!-- ** ACTION FIELD 3 ** -->
			<Field type="menu" id="optionGroupOff3" defaultValue="hidden" hidden="true">
				<Label>GROUP 3 DISPLAY</Label>
				<List>
					<Option value="hidden">Hidden</Option>
					<Option value="textfield">Text Field</Option>
					<Option value="menu">Menu</Option>
					<Option value="list">List</Option>
					<Option value="checkbox">Checkbox</Option>
				</List>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field id="optionLabelOff3" type="textfield" defaultValue="" readonly="true" visibleBindingId="optionGroupOff3" visibleBindingValue="textfield,menu,list">
				<Label>Field:</Label>
			</Field>
			
			<Field id="checkValueOff3" type="checkbox" visibleBindingId="optionGroupOff3" visibleBindingValue="checkbox">
				<Label> </Label>
				<Description>Enable</Description>
			</Field>
			
			<Field id="strValueOff3" type="textfield" visibleBindingId="optionGroupOff3" visibleBindingValue="textfield">
				<Label>Value:</Label>
			</Field>
			
			<Field type="menu" id="menuValueOff3" defaultValue="on" visibleBindingId="optionGroupOff3" visibleBindingValue="menu">
				<Label>Value:</Label>
				<List class="self" filter="#actionoptionlist#[index=menuValueOff3, group=3, method=Pass]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field type="list" id="listValueOff3" defaultValue="on" visibleBindingId="optionGroupOff3" visibleBindingValue="list">
				<Label>Value:</Label>
				<List class="self" filter="#actionoptionlist#[index=listValueOff3, group=3, method=Pass]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>			
			
			<Field type="checkbox" id="deviceOffShowStates" defaultValue="false" hidden="true">
				<Label> </Label>
				<Description>Determines if the user should provide a state and value to indicate status</Description>
			</Field>
			
			<Field type="menu" id="deviceOffState" defaultValue="" visibleBindingId="deviceOffShowStates" visibleBindingValue="true">
				<Label>State indicating Off:</Label>
				<List class="self" filter="#devicestates#[index=deviceOffState, srcfield=deviceOff, allowui=True]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field type="textfield" id="deviceOffStateValue" defaultValue="" visibleBindingId="deviceOffShowStates" visibleBindingValue="true">
				<Label>State value indicating Off:</Label>
			</Field>
			
			<Field id="deviceListOff" type="list" rows="8" visibleBindingId="methodOff" visibleBindingValue="list">
				<Label>Devices:</Label>
				<List class="indigo.devices" />
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field id="actionOff" type="menu" visibleBindingId="methodOff" visibleBindingValue="action">
				<Label>Action group:</Label>
				<List class="indigo.actionGroups" />
			</Field>
			
			<Field id="sep_off" type="separator" />
			
			<!-- *********** COMMON *********** -->
			
			<Field type="menu" id="treatAs" defaultValue="switch" >
				<Label>Type of wrapper:</Label>
				<List>
					<Option value="switch">Switch</Option>
					<Option value="lock">Lock</Option>
					<Option value="door">Door</Option>
					<Option value="garage">Garage Door</Option>
					<Option value="window">Window</Option>
					<Option value="drape">Window Covering (Curtain, Blind, etc)</Option>
				</List>
			</Field>
			
						
			<!-- *********** CONDITIONS *********** -->
			
			<Field type="menu" id="conditions" defaultValue="none" >
				<Label>Conditions:</Label>
				<List class="self" filter="#conditions_topmenu#" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field id="placeholder" type="label" visibleBindingId="methodOff" visibleBindingValue="false" alwaysUseInDialogHeightCalc="true">
				<Label>





.</Label>
			</Field>
			
		</ConfigUI>
		
		<States>
			<!-- All EPS plugins have this state and use it for the Indigo lists -->
			<State id="statedisplay">
				<ValueType>String</ValueType>
				<TriggerLabel>Current device state</TriggerLabel>
				<ControlPageLabel>Current device state</ControlPageLabel>
			</State>
		</States>
		<UiDisplayStateId>statedisplay</UiDisplayStateId>
	</Device>
	
	<!-- =========== ACTION DEVICE =========== -->
	<Device type="custom" id="epsActionDev">
		<Name>Action Device</Name>
		<ConfigUI>
			<Field type="menu" id="ifPass" defaultValue="device">
				<Label>Action type:</Label>
				<List>
					<Option value="device">Device</Option>
					<Option value="action">Action Group</Option>
					<Option value="variable">Variable</Option>
					<Option value="server">Server</Option>
				</List>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field id="devicePass" type="menu" visibleBindingId="ifPass" visibleBindingValue="device">
				<Label>Device:</Label>
				<List class="indigo.devices" />
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field type="menu" id="deviceActionPass" defaultValue="turnOn" visibleBindingId="ifPass" visibleBindingValue="device">
				<Label>Action:</Label>
				<List class="self" filter="#deviceactions#[index=deviceActionPass, srcfield=devicePass, allowui=true]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field id="actionPass" type="menu" visibleBindingId="ifPass" visibleBindingValue="action">
				<Label>Action group:</Label>
				<List class="indigo.actionGroups" />
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field id="variablePass" type="menu" visibleBindingId="ifPass" visibleBindingValue="variable">
				<Label>Variable:</Label>
				<List class="indigo.variables" />
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field type="menu" id="variableActionPass" defaultValue="turnOn" visibleBindingId="ifPass" visibleBindingValue="variable">
				<Label>Action:</Label>
				<List class="self" filter="#variableactions#[index=variableActionPass, allowui=true]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			
			<!-- =========== ACTION CONFIGUI OPTIONS =========== -->
			
			<!-- This lets the engine know this is an action record -->
			<Field type="checkbox" id="isActionConfig" defaultValue="true" hidden="true">
				<Label> </Label>
				<Description>Just lets the engine know to process actions on this device</Description>
			</Field>
			
			<Field type="checkbox" id="showWarning" defaultValue="false" hidden="true">
				<Label> </Label>
				<Description>Show the developer warning label</Description>
			</Field>
			
			<Field id="sep_warning" type="separator" visibleBindingId="showWarning" visibleBindingValue="true"/>
			
			<Field id="warninglabel" type="label" visibleBindingId="showWarning" visibleBindingValue="true">
				<Label>This action cannot be called because the plugin that manages it requires that one or more of their fields must 'callback' to their plugin in order for the action to work properly.
				
Please see the event window for more information.</Label>
			</Field>
			
			<Field type="checkbox" id="showFieldWarning" defaultValue="false" hidden="true">
				<Label> </Label>
				<Description>Show the field warning label</Description>
			</Field>
			
			<Field id="sep_fieldwarning" type="separator" visibleBindingId="showFieldWarning" visibleBindingValue="true"/>
			
			<Field id="fieldwarninglabel" type="label" visibleBindingId="showFieldWarning" visibleBindingValue="true">
				<Label>Sorry, this action requires too many parameters to be run, post a topic on the forum if you would like more fields made available.</Label>
			</Field>
			
			<Field id="placeholder" type="label" visibleBindingId="optionGroupPass1" visibleBindingValue="false" alwaysUseInDialogHeightCalc="true">
				<Label>





.</Label>
			</Field>
			
			<!-- ........... FIELD GROUP 1 ........... -->

			<Field id="sep_group1" type="separator" visibleBindingId="optionGroupPass1" visibleBindingValue="textfield,menu,list"/>

			<!-- The following hidden menu dictates what is shown, if anything, in this group -->
			<Field type="menu" id="optionGroupPass1" defaultValue="hidden" hidden="true">
				<Label>GROUP 1 DISPLAY</Label>
				<List>
					<Option value="hidden">Hidden</Option>
					<Option value="textfield">Text Field</Option>
					<Option value="menu">Menu</Option>
					<Option value="list">List</Option>
					<Option value="checkbox">Checkbox</Option>
				</List>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field id="optionLabelPass1" type="textfield" defaultValue="" readonly="true" visibleBindingId="optionGroupPass1" visibleBindingValue="textfield,menu,list">
				<Label>Field:</Label>
			</Field>
			
			<Field id="checkValuePass1" type="checkbox" visibleBindingId="optionGroupPass1" visibleBindingValue="checkbox">
				<Label> </Label>
				<Description>Enable</Description>
			</Field>
			
			<Field id="strValuePass1" type="textfield" visibleBindingId="optionGroupPass1" visibleBindingValue="textfield">
				<Label>Value:</Label>
			</Field>
			
			<Field type="menu" id="menuValuePass1" defaultValue="on" visibleBindingId="optionGroupPass1" visibleBindingValue="menu">
				<Label>Value:</Label>
				<List class="self" filter="#actionoptionlist#[index=menuValuePass1, group=1, method=Pass]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field type="list" id="listValuePass1" defaultValue="on" visibleBindingId="optionGroupPass1" visibleBindingValue="list">
				<Label>Value:</Label>
				<List class="self" filter="#actionoptionlist#[index=listValuePass1, group=1, method=Pass]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<!-- ........... FIELD GROUP 2 ........... -->

			<Field id="sep_group2" type="separator" visibleBindingId="optionGroupPass2" visibleBindingValue="textfield,menu,list"/>

			<!-- The following hidden menu dictates what is shown, if anything, in this group -->
			<Field type="menu" id="optionGroupPass2" defaultValue="hidden" hidden="true">
				<Label>GROUP 2 DISPLAY</Label>
				<List>
					<Option value="hidden">Hidden</Option>
					<Option value="textfield">Text Field</Option>
					<Option value="menu">Menu</Option>
					<Option value="list">List</Option>
					<Option value="checkbox">Checkbox</Option>
				</List>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field id="optionLabelPass2" type="textfield" defaultValue="" readonly="true" visibleBindingId="optionGroupPass2" visibleBindingValue="textfield,menu,list">
				<Label>Field:</Label>
			</Field>
			
			<Field id="checkValuePass2" type="checkbox" visibleBindingId="optionGroupPass2" visibleBindingValue="checkbox">
				<Label> </Label>
				<Description>Enable</Description>
			</Field>
			
			<Field id="strValuePass2" type="textfield" visibleBindingId="optionGroupPass2" visibleBindingValue="textfield">
				<Label>Value:</Label>
			</Field>
			
			<Field type="menu" id="menuValuePass2" defaultValue="on" visibleBindingId="optionGroupPass2" visibleBindingValue="menu">
				<Label>Value:</Label>
				<List class="self" filter="#actionoptionlist#[index=menuValuePass2, group=2, method=Pass]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field type="list" id="listValuePass2" defaultValue="on" visibleBindingId="optionGroupPass2" visibleBindingValue="list">
				<Label>Value:</Label>
				<List class="self" filter="#actionoptionlist#[index=listValuePass2, group=2, method=Pass]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<!-- ........... FIELD GROUP 3 ........... -->

			<Field id="sep_group3" type="separator" visibleBindingId="optionGroupPass3" visibleBindingValue="textfield,menu,list"/>

			<!-- The following hidden menu dictates what is shown, if anything, in this group -->
			<Field type="menu" id="optionGroupPass3" defaultValue="hidden" hidden="true">
				<Label>GROUP 3 DISPLAY</Label>
				<List>
					<Option value="hidden">Hidden</Option>
					<Option value="textfield">Text Field</Option>
					<Option value="menu">Menu</Option>
					<Option value="list">List</Option>
					<Option value="checkbox">Checkbox</Option>
				</List>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field id="optionLabelPass3" type="textfield" defaultValue="" readonly="true" visibleBindingId="optionGroupPass3" visibleBindingValue="textfield,menu,list">
				<Label>Field:</Label>
			</Field>
			
			<Field id="checkValuePass3" type="checkbox" visibleBindingId="optionGroupPass3" visibleBindingValue="checkbox">
				<Label> </Label>
				<Description>Enable</Description>
			</Field>
			
			<Field id="strValuePass3" type="textfield" visibleBindingId="optionGroupPass3" visibleBindingValue="textfield">
				<Label>Value:</Label>
			</Field>
			
			<Field type="menu" id="menuValuePass3" defaultValue="on" visibleBindingId="optionGroupPass3" visibleBindingValue="menu">
				<Label>Value:</Label>
				<List class="self" filter="#actionoptionlist#[index=menuValuePass3, group=3, method=Pass]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field type="list" id="listValuePass3" defaultValue="on" visibleBindingId="optionGroupPass3" visibleBindingValue="list">
				<Label>Value:</Label>
				<List class="self" filter="#actionoptionlist#[index=listValuePass3, group=3, method=Pass]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>						
			
		</ConfigUI>
		
		<States>
			<!-- All EPS plugins have this state and use it for the Indigo lists -->
			<State id="statedisplay">
				<ValueType>String</ValueType>
				<TriggerLabel>Current device state</TriggerLabel>
				<ControlPageLabel>Current device state</ControlPageLabel>
			</State>
			
		</States>
		<UiDisplayStateId>statedisplay</UiDisplayStateId>
	</Device>

	<!-- =========== GENERIC EXAMPLE DEVICE =========== -->
	<Device type="custom" id="epsCustomDev">
		<Name>Dev Template Device</Name>
		<ConfigUI>
			
			<Field type="menu" id="customFolderSource" defaultValue="devices">
				<Label>Custom folder source:</Label>
				<List>
					<Option value="devices">Devices</Option>
					<Option value="variables">Variables</Option>
					<Option value="actiongroups">Action Groups</Option>
				</List>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>	
		
			<Field type="menu" id="customFolder">
				<Label>Custom folder list:</Label>
				<List class="self" filter="#IndigoFolders#[index=customFolder, srcfield=customFolderSource, showtop=True]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field id="sep_customFolders" type="separator" />
			
			<Field type="menu" id="customDevice" defaultValue="">
				<Label>Custom device:</Label>
				<List class="indigo.devices" />
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>	
		
			<Field type="menu" id="customDeviceState" defaultValue="">
				<Label>Custom device states:</Label>
				<List class="self" filter="#devicestates#[index=customDeviceState, srcfield=customDevice, allowui=True]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field id="sep_customDeviceState" type="separator" />
			
			<Field type="menu" id="customDeviceValues">
				<Label>Custom device values:</Label>
				<List class="self" filter="#devicevalues#[index=customDeviceValues, srcfield=customDevice]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field id="sep_customDeviceValue" type="separator" />
			
			<Field type="menu" id="customDeviceBoth">
				<Label>Custom device values + states:</Label>
				<List class="self" filter="#devicestatesvalues#[index=customDeviceBoth, srcfield=customDevice, allowui=True]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field id="sep_customDeviceStatesValue" type="separator" />
			
			<Field type="menu" id="customDeviceActions">
				<Label>Custom device actions:</Label>
				<List class="self" filter="#deviceactions#[index=customDeviceActions, srcfield=customDevice, allowui=true]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field id="sep_customDeviceActions" type="separator" />
			
			<Field type="menu" id="customDeviceFields">
				<Label>Custom device fields:</Label>
				<List class="self" filter="#devicefields#[index=customDeviceFields, srcfield=customDevice, allowui=False]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field id="sep_customDeviceFields" type="separator" />
		
			<Field type="menu" id="customYears">
				<Label>Custom years:</Label>
				<List class="self" filter="#years#[index=customYears, showany=true, shownext=true, showlast=true, showcurrent=true]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>		
		
			<Field type="menu" id="customMonths">
				<Label>Custom months:</Label>
				<List class="self" filter="#months#[index=customMonths, showany=true, shownext=true, showlast=true, showcurrent=true]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field type="menu" id="customDays">
				<Label>Custom days:</Label>
				<List class="self" filter="#days#[index=customDays, monthsrc=customMonths, yearsrc=customYears, showany=true, shownext=true, showlast=true, showcurrent=true]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field type="menu" id="customDow">
				<Label>Custom day of week:</Label>
				<List class="self" filter="#dows#[index=customDow, showany=true, shownext=true, showlast=true, showcurrent=true]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field type="menu" id="customTimes">
				<Label>Custom times:</Label>
				<List class="self" filter="#times#[index=customTimes, showany=true, shownow=true, chunks=12]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
		
		
			<Field id="sep_customDeviceDateTime" type="separator" />
			
			<Field id="variable" type="menu">
				<Label>Variable:</Label>
				<List class="indigo.variables" />
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field id="device" type="menu">
				<Label>Device:</Label>
				<List class="indigo.devices" />
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field id="weathersnoop" type="menu">
				<Label>2nd Device:</Label>
				<List class="indigo.devices" />
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field type="menu" id="states" defaultValue="default">
				<Label>Dynamic states:</Label>
				<List class="self" filter="weathersnoop" method="getStatesForDevice" dynamicReload="true"/>
			</Field>
			
			<Field type="menu" id="props" defaultValue="default">
				<Label>Dynamic props:</Label>
				<List class="self" filter="weathersnoop" method="getPropsForDevice" dynamicReload="true"/>
			</Field>
			
			<Field type="menu" id="plugins" defaultValue="default">
				<Label>Dynamic plugins:</Label>
				<List class="self" filter="- Variable Values - ,com.eps.indigoplugin.dev-template:epsCustomDev,com.perceptiveautomation.indigoplugin.weathersnoop,com.fogbert.indigoplugin.wunderground,com.perceptiveautomation.indigoplugin.NOAAWeather" method="getPluginDevices" dynamicReload="true"/>
			</Field>
			
			<Field type="menu" id="pluginfilter" defaultValue="default">
				<Label>Filtered plugin by type:</Label>
				<List class="indigo.devices" filter="com.eps.indigoplugin.dev-template.epsCustomDev"/>
			</Field>
			
			<Field type="menu" id="pluginsthis" defaultValue="default">
				<Label>Device for this plugin:</Label>
				<List class="indigo.devices" filter="self"/>
			</Field>
			
			<Field type="checkbox" id="checkboxSample" defaultValue="true">
				<Label> </Label>
				<Description>Enable / disable next field</Description>
			</Field>
			
			<Field id="simpleTextField" type="textfield" enabledBindingId="checkboxSample" defaultValue="Default Value">
				<Label>Text Field:</Label>
			</Field>
			
			<Field type="checkbox" id="checkboxSample2" defaultValue="true">
				<Label> </Label>
				<Description>Hide / show next field</Description>
			</Field>
			
			<Field id="simpleTextField2" type="textfield" visibleBindingId="checkboxSample2" visibleBindingValue="true" defaultValue="Default Value">
				<Label>Text Field:</Label>
			</Field>
			
			<Field id="simpleTextField3" type="textfield" tooltip="This is the tooltip" defaultValue="Default Value">
				<Label>Text Field (hover for tooltip):</Label>
			</Field>
			
			<Field type="menu" id="simplePopUpButton" defaultValue="item2">
				<Label>Popup Menu:</Label>
				<List>
					<Option value="item1">Item 1</Option>
					<Option value="item2">Item 2</Option>
					<Option value="item3">Item 3</Option>
				</List>
			</Field>
			
			<Field type="list" id="listSample" defaultValue="item1,item3" rows="6">
				<Label>List:</Label>
				<List>
					<Option value="item1">Item 1</Option>
					<Option value="item2">Item 2</Option>
					<Option value="item3">Item 3</Option>
					<Option value="item4">Item 4</Option>
				</List>
			</Field>
			
			<Field id="exampleLabel" type="label" >
				<Label>This is where you can put your label text. If need be it'll wrap.
				</Label>
			</Field>
			
			<Field id="simpleSeparator1" type="separator" />
			
			<Field id="exampleButton" type="button" tooltip="Click this button to do something cool" >
				<Label>Visible button's label:</Label>
				<Title>Visible Button Title</Title>
				<CallbackMethod>uiButtonClicked</CallbackMethod>
			</Field>
			
		</ConfigUI>
		
		<States>
			<!-- All EPS plugins have this state and use it for the Indigo lists -->
			<State id="statedisplay">
				<ValueType>String</ValueType>
				<TriggerLabel>Current device state</TriggerLabel>
				<ControlPageLabel>Current device state</ControlPageLabel>
			</State>
			
			<State id="sep_statedisplay">
				<ValueType>Separator</ValueType>
			</State>
			
		</States>
		<UiDisplayStateId>statedisplay</UiDisplayStateId>
	</Device>
	
	<!-- =========== CONDITION DEVICE =========== -->
	<Device type="custom" id="epsCustomDev2">
		<Name>Condition Device</Name>
		<ConfigUI>
			<Field id="device" type="menu">
				<Label>Device:</Label>
				<List class="indigo.devices" />
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			
			<!-- ########### START CONDITION FIELDS ########### -->
			
			<Field id="sep_conditions" type="separator" visibleBindingId="conditions" visibleBindingValue="alltrue,allfalse,anytrue,anyfalse"/>
			
			<!-- New devices don't populate, make them save it first -->
			<Field type="checkbox" id="isNewDevice" defaultValue="true" hidden="true">
				<Label> </Label>
				<Description>It's a new device, they must save it first to get conditions</Description>
			</Field>
			
			<Field id="sep_newDevice" type="label" visibleBindingId="isNewDevice" visibleBindingValue="true">
				<Label>
         SAVE THIS NEW DEVICE THEN RE-OPEN IT TO SET CONDITIONS
    			</Label>
			</Field>
			
			<Field type="menu" id="conditions" defaultValue="" visibleBindingId="isNewDevice" visibleBindingValue="false">
				<Label>Conditions:</Label>
				<List class="self" filter="#conditions_topmenu#" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			
			<!-- ***********       CONDITION 1      *********** -->
			
			<Field id="sep_condition1" type="separator" visibleBindingId="expandConditions1" visibleBindingValue="true"/>
			
			<Field type="checkbox" id="expandConditions1" defaultValue="false" visibleBindingId="conditions" visibleBindingValue="alltrue,allfalse,anytrue,anyfalse">
				<Label> </Label>
				<Description>Expand condition 1</Description>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>	
			
			<Field type="menu" id="condition1" defaultValue="" visibleBindingId="expandConditions1" visibleBindingValue="true">
				<Label>Condition:</Label>
				<List class="self" filter="#conditions_menu#" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field type="checkbox" id="hasDevice1" defaultValue="false" hidden="true">
				<Label> </Label>
				<Description>Show the device field</Description>
			</Field>
			
			<Field type="menu" id="device1" defaultValue="" visibleBindingId="hasDevice1" visibleBindingValue="true" >
				<Label>Device:</Label>
				<List class="indigo.devices"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field type="checkbox" id="hasState1" defaultValue="false" hidden="true">
				<Label> </Label>
				<Description>Show the state field</Description>
			</Field>
			
			<Field type="menu" id="state1" defaultValue="" visibleBindingId="hasState1" visibleBindingValue="true">
				<Label>State:</Label>
				<List class="self" filter="#devicestates#[index=state1, srcfield=device1, allowui=False]" method="getCustomList" dynamicReload="true"/>
			</Field>
			
			<Field type="checkbox" id="hasProp1" defaultValue="false" hidden="true">
				<Label> </Label>
				<Description>Show the property field</Description>
			</Field>
			
			<Field type="menu" id="property1" defaultValue="" visibleBindingId="hasProp1" visibleBindingValue="true">
				<Label>Property:</Label>
				<List class="self" filter="#devicevalues#[index=property1, srcfield=device1]" method="getCustomList" dynamicReload="true"/>
			</Field>
			
			<Field type="checkbox" id="hasField1" defaultValue="false" hidden="true">
				<Label> </Label>
				<Description>Show the config props field</Description>
			</Field>
			
			<Field type="menu" id="field1" defaultValue="" visibleBindingId="hasField1" visibleBindingValue="true">
				<Label>Config fields:</Label>
				<List class="self" filter="#devicefields#[index=field1, srcfield=device1, allowui=False]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field type="checkbox" id="hasVariable1" defaultValue="false" hidden="true">
				<Label> </Label>
				<Description>Show the variable field</Description>
			</Field>
			
			<Field type="menu" id="variable1" defaultValue="" visibleBindingId="hasVariable1" visibleBindingValue="true" >
				<Label>Variable:</Label>
				<List class="indigo.variables"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field type="checkbox" id="hasPythonFormat1" defaultValue="false" hidden="true">
				<Label> </Label>
				<Description>Show the date format</Description>
			</Field>	
			
			<Field id="dtFormat1" type="textfield" defaultValue="%Y-%m-%d %H:%M:%S" visibleBindingId="hasPythonFormat1" visibleBindingValue="true">
				<Label>Python date format:</Label>
			</Field>
			
			<Field type="menu" id="evaluation1" defaultValue="equal" visibleBindingId="condition1" visibleBindingValue="device,variable,datetime,dow,devstatedatetime,vardatetime,attributes,fields,devattribdatetime">
				<Label>Is:</Label>
				<List class="self" filter="#conditions_operators#[index=evaluation1]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			
			<Field type="checkbox" id="hasStartValue1" defaultValue="false" hidden="true">
				<Label> </Label>
				<Description>Show the start value</Description>
			</Field>	
			
			<!-- Future proofing in case we want to incorporate options -->
			<Field type="checkbox" id="hasFieldOptions1" defaultValue="false" hidden="true">
				<Label> </Label>
				<Description>Show the additional options</Description>
			</Field>
			
			<Field type="menu" id="fieldOptions1" defaultValue="" visibleBindingId="hasFieldOptions1" visibleBindingValue="true">
				<Label>Value:</Label>
				<List class="self" filter="#fieldoptions#[index=fieldOptions1, srcfield=field1]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field type="checkbox" id="hasStateOptions1" defaultValue="false" hidden="true">
				<Label> </Label>
				<Description>Show the additional state options</Description>
			</Field>
			
			<Field type="menu" id="stateOptions1" defaultValue="" visibleBindingId="hasStateOptions1" visibleBindingValue="true">
				<Label>Value:</Label>
				<List class="self" filter="#stateoptions#[index=stateOptions1, srcfield=state1]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field type="checkbox" id="hasPropOptions1" defaultValue="false" hidden="true">
				<Label> </Label>
				<Description>Show the additional attribute/property options</Description>
			</Field>
			
			<Field type="menu" id="propOptions1" defaultValue="" visibleBindingId="hasPropOptions1" visibleBindingValue="true">
				<Label>Value:</Label>
				<List class="self" filter="#stateoptions#[index=propOptions1, srcfield=property1]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			<!-- End future proofing -->		
			
			<Field id="value1" type="textfield" defaultValue="" visibleBindingId="hasStartValue1" visibleBindingValue="true">
				<Label>Value:</Label>
			</Field>
			
			<Field type="checkbox" id="hasStartDate1" defaultValue="false" hidden="true">
				<Label> </Label>
				<Description>Show the start date (month, day, year)</Description>
			</Field>
			
			<Field type="menu" id="startYear1" defaultValue="2016" visibleBindingId="hasStartDate1" visibleBindingValue="true">
				<Label>Year:</Label>
				<List class="self" filter="#years#[index=startYear1, showany=true, shownext=true, showlast=true, showcurrent=true]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field type="menu" id="startMonth1" defaultValue="05" visibleBindingId="hasStartDate1" visibleBindingValue="true">
				<Label>Month:</Label>
				<List class="self" filter="#months#[index=startMonth1, showany=true, shownext=true, showlast=true, showcurrent=true]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field type="menu" id="startDay1" defaultValue="05" visibleBindingId="hasStartDate1" visibleBindingValue="true">
				<Label>Day:</Label>
				<List class="self" filter="#days#[index=startDay1, monthsrc=startMonth1, yearsrc=startYear1, showany=true, shownext=true, showlast=true, showcurrent=true, showlastday=true, showrepeats=true]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field type="checkbox" id="hasStartDow1" defaultValue="false" hidden="true">
				<Label> </Label>
				<Description>Show the start day of the week</Description>
			</Field>
			
			<Field type="menu" id="startDow1" defaultValue="0" visibleBindingId="hasStartDate1" visibleBindingValue="true">
				<Label>Day of the week:</Label>
				<List class="self" filter="#dows#[index=startDow1, showany=true, shownext=true, showlast=true, showcurrent=true]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field type="checkbox" id="hasStartTime1" defaultValue="false" hidden="true">
				<Label> </Label>
				<Description>Show the end time</Description>
			</Field>
			
			<Field type="menu" id="startTime1" defaultValue="08:00" visibleBindingId="hasStartTime1" visibleBindingValue="true">
				<Label>Time:</Label>
				<List class="self" filter="#times#[index=startTime1, showany=true, shownow=true, chunks=12]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field type="checkbox" id="hasEndValue1" defaultValue="false" hidden="true">
				<Label> </Label>
				<Description>Show the end value</Description>
			</Field>
			
			<Field id="endValue1" type="textfield" defaultValue="" visibleBindingId="hasEndValue1" visibleBindingValue="true">
				<Label>And:</Label>
			</Field>
			
			<Field type="checkbox" id="hasEndDate1" defaultValue="false" hidden="true">
				<Label> </Label>
				<Description>Show the end date (month, day, year)</Description>
			</Field>
			
			<Field id="sep_endvalues1" type="label" visibleBindingId="hasEndDate1" visibleBindingValue="true">
				<Label>                                               ____________________________________________________</Label>
			</Field>
			
			<Field type="menu" id="endYear1" defaultValue="2016" visibleBindingId="hasEndDate1" visibleBindingValue="true">
				<Label>End year:</Label>
				<List class="self" filter="#years#[index=endYear1, showany=true, shownext=true, showlast=true, showcurrent=true]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field type="menu" id="endMonth1" defaultValue="02" visibleBindingId="hasEndDate1" visibleBindingValue="true">
				<Label>End month:</Label>
				<List class="self" filter="#months#[index=endMonth1, showany=true, shownext=true, showlast=true, showcurrent=true]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field type="menu" id="endDay1" defaultValue="15" visibleBindingId="hasEndDate1" visibleBindingValue="true">
				<Label>End Day:</Label>
				<List class="self" filter="#days#[index=endDay1, monthsrc=endMonth1, yearsrc=endYear1, showany=true, shownext=true, showlast=true, showcurrent=true, showlastday=true, showrepeats=true]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field type="checkbox" id="hasEndDow1" defaultValue="false" hidden="true">
				<Label> </Label>
				<Description>Show the end day of the week</Description>
			</Field>
			
			<Field type="menu" id="endDow1" defaultValue="6" visibleBindingId="hasEndDate1" visibleBindingValue="true">
				<Label>End day of week:</Label>
				<List class="self" filter="#dows#[index=endDow1, showany=true, shownext=true, showlast=true, showcurrent=true]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
			<Field type="checkbox" id="hasEndTime1" defaultValue="false" hidden="true">
				<Label> </Label>
				<Description>Show the end time</Description>
			</Field>
			
			<Field type="menu" id="endTime1" defaultValue="10:00" visibleBindingId="hasEndTime1" visibleBindingValue="true">
				<Label>End time:</Label>
				<List class="self" filter="#times#[index=endTime1, showany=true, shownow=true, chunks=12]" method="getCustomList" dynamicReload="true"/>
				<CallbackMethod>formFieldChanged</CallbackMethod>
			</Field>
			
								
						
			
			
			<!-- ***********      COMMON FIELDS     *********** -->
			
			<!-- If conditions are disabled then add this label as a screen-size placeholder (14 lines for 1 condition) -->
			<Field id="sep_noconditions" type="label" visibleBindingId="conditions" visibleBindingValue="none">
				<Label>
				
				
				
				
				
				
				
				
				
				


				
				
				

















.				</Label>
			</Field>
			
			<!-- When we have multiple conditions show extra padding when first opened -->
			<Field type="checkbox" id="multiConditions" defaultValue="false" hidden="true">
				<Label> </Label>
				<Description>Extra padding when first opened to allow device expansions</Description>
			</Field>
			
			<Field id="sep_multiConditions" type="label" visibleBindingId="multiConditions" visibleBindingValue="true">
				<Label>
				
.				</Label>
			</Field>
			
			<!-- The current focused condition -->
			<Field id="currentCondition" type="textfield" defaultValue="1" hidden="true">
				<Label>So we know what other condition blocks to toggle</Label>
			</Field>
			
			<!-- If all conditions collapsed show this screen size placeholder (12 lines for 1 condition) -->
			<Field type="checkbox" id="noneExpanded" defaultValue="false" hidden="true">
				<Label> </Label>
				<Description>No conditions are expanded, show placeholder</Description>
			</Field>
			
			<Field id="sep_allcollapsed" type="label" visibleBindingId="noneExpanded" visibleBindingValue="true">
				<Label>
				
				
				
				
				
				
				
				
							
				
				













.				</Label>
			</Field>
			
			<!-- Current condition is disabled, only 1 field showing  (10 lines for 1 condition) -->
			<Field type="checkbox" id="isDisabled" defaultValue="false" hidden="true">
				<Label> </Label>
				<Description>Current condition disabled, show placeholder</Description>
			</Field>
			
			<Field id="sep_disabled" type="label" visibleBindingId="isDisabled" visibleBindingValue="true">
				<Label>
				
				
				
				
				
				
				
				
							













.				</Label>
			</Field>
			
			<!-- Only 3 fields showing, like when time is selected as condition  (7 lines for 1 condition) -->
			<Field type="checkbox" id="placeThree" defaultValue="false" hidden="true">
				<Label> </Label>
				<Description>Only 3 fields showing</Description>
			</Field>
			
			<Field id="sep_placeThree" type="label" visibleBindingId="placeThree" visibleBindingValue="true">
				<Label>
				
				




.				</Label>
			</Field>
			
			<!-- Only 4 fields showing, like when variable is selected as condition  (5 lines for 1 condition) -->
			<Field type="checkbox" id="placeFour" defaultValue="false" hidden="true">
				<Label> </Label>
				<Description>Only 4 fields showing</Description>
			</Field>
			
			<Field id="sep_placeFour" type="label" visibleBindingId="placeFour" visibleBindingValue="true">
				<Label>
				
				















.				</Label>
			</Field>
			
			<!-- Only 5 fields showing, like when device is selected as condition (3 lines for 1 condition) -->
			<Field type="checkbox" id="placeFive" defaultValue="false" hidden="true">
				<Label> </Label>
				<Description>Only 5 fields showing</Description>
			</Field>
			
			<Field id="sep_placeFive" type="label" visibleBindingId="placeFive" visibleBindingValue="true">
				<Label>
				
				














.				</Label>
			</Field>
			
			<!-- Only 6 fields showing, like when device state time is selected as condition (2 lines for 1 condition) -->
			<Field type="checkbox" id="placeSix" defaultValue="false" hidden="true">
				<Label> </Label>
				<Description>Only 6 fields showing</Description>
			</Field>
			
			<Field id="sep_placeSix" type="label" visibleBindingId="placeSix" visibleBindingValue="true">
				<Label>














.</Label>
			</Field>
			
			<!-- Only 7 of 8 fields showing, like when device state date is selected as condition (1 lines for 1 condition) -->
			<Field type="checkbox" id="placeSeven" defaultValue="false" hidden="true">
				<Label> </Label>
				<Description>Only 7 fields showing</Description>
			</Field>
			
			<Field id="sep_placeSeven" type="label" visibleBindingId="placeSeven" visibleBindingValue="true">
				<Label>












.</Label>
			</Field>
			
			<!-- Only 9 fields showing, like when device state date is selected as condition (1 lines for 1 condition) -->
			<Field type="checkbox" id="placeNine" defaultValue="false" hidden="true">
				<Label> </Label>
				<Description>Only 9 fields showing</Description>
			</Field>
			
			<Field id="sep_placeNine" type="label" visibleBindingId="placeNine" visibleBindingValue="true">
				<Label>









.</Label>
			</Field>			
			
			<!-- Only 10 fields showing, like when device state date is selected as condition (1 lines for 1 condition) -->
			<Field type="checkbox" id="placeTen" defaultValue="false" hidden="true">
				<Label> </Label>
				<Description>Only 10 fields showing</Description>
			</Field>
			
			<Field id="sep_placeTen" type="label" visibleBindingId="placeTen" visibleBindingValue="true">
				<Label>







.</Label>
			</Field>
			
			<!-- Only 13 fields showing, like when device state date is selected as condition (1 lines for 1 condition) -->
			<Field type="checkbox" id="placeThirteen" defaultValue="false" hidden="true">
				<Label> </Label>
				<Description>Only 13 fields showing</Description>
			</Field>
			
			<Field id="sep_placeThirteen" type="label" visibleBindingId="placeThirteen" visibleBindingValue="true">
				<Label>



.</Label>
			</Field>
			
			<!-- Only 15 fields showing, like when device state date is selected as condition (1 lines for 1 condition) -->
			<Field type="checkbox" id="placeFifteen" defaultValue="false" hidden="true">
				<Label> </Label>
				<Description>Only 15 fields showing</Description>
			</Field>
			
			<Field id="sep_placeFifteen" type="label" visibleBindingId="placeFifteen" visibleBindingValue="true">
				<Label>13.</Label>
			</Field>
			
			<!-- ########### END CONDITION FIELDS ########### -->			
			
		</ConfigUI>
		<States>
			<!-- All EPS plugins have this state and use it for the Indigo lists -->
			<State id="statedisplay">
				<ValueType>String</ValueType>
				<TriggerLabel>Current device state</TriggerLabel>
				<ControlPageLabel>Current device state</ControlPageLabel>
			</State>
			
			<State id="doorStatus">
				<ValueType>
				   <List>
					  <Option value="open">Open</Option>
					  <Option value="closed">Closed</Option>
					  <Option value="stopped">Stopped</Option>
					  <Option value="opening">Opening</Option>
					  <Option value="closing">Closing</Option>
				   </List>
				</ValueType>
				<TriggerLabel>Current device state</TriggerLabel>
				<ControlPageLabel>Current device state</ControlPageLabel>
         </State>
			
		</States>
		<UiDisplayStateId>statedisplay</UiDisplayStateId>
	</Device>
</Devices>
